<!DOCTYPE html>
<html>
<head>
  <title>Attendance Report</title>
</head>
<body>
  <h2>Attendance Report</h2>
  <select id="classSelect"></select>
  <div id="reportContainer"></div>

  <script>
    const webAppUrl = "YOUR_WEB_APP_URL";
    const classSelect = document.getElementById("classSelect");
    const reportContainer = document.getElementById("reportContainer");

    const classes = ["Class_1A", "Class_2B", "Class_3C"];
    classes.forEach(cls => {
      const opt = document.createElement("option");
      opt.value = cls;
      opt.text = cls;
      classSelect.appendChild(opt);
    });

    classSelect.addEventListener("change", loadReport);

    function loadReport() {
      const className = classSelect.value;
      fetch(`${webAppUrl}?action=getAttendanceReport&className=${className}`)
        .then(res => res.json())
        .then(data => {
          reportContainer.innerHTML = "";
          data.forEach(s => {
            const div = document.createElement("div");
            div.innerHTML = `<strong>${s.roll} - ${s.name}</strong><br>`;
            for (const date in s.attendance) {
              div.innerHTML += `${date}: ${s.attendance[date]}<br>`;
            }
            div.style.borderBottom = "1px solid #ccc";
            div.style.marginBottom = "10px";
            reportContainer.appendChild(div);
          });
        });
    }

    loadReport();
  </script>
</body>
</html>
